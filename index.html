<!DOCTYPE html>
<link rel="stylesheet" href="style.css">
<head><title>my calculator</title></head>
<body>

    <div class="displayBox">
    <span id="displayBox" style="border: 5px solid salmon; border-radius: 10px; height: 70px;;" >0</span>
    </div>
    
    <div class="buttons_outer"  style="border: 5px solid salmon; border-radius: 8px; height: 350px;">
        <button id="one">1</button>
        <button id="two" >2</button>
        <button id="three">3</button>
        <button id="add">+</button>
        <button id="four">4</button>
        <button id="five">5</button>
        <button id="six">6</button>
        <button id="subtract">-</button>
        <button id="seven">7</button>
        <button id="eight">8</button>
        <button id="nine">9</button>
        <button id="multiply">x</button>
        <button id="zero">0</button>
        <button id="dot" >.</button>
        <button id="backspace" >&#9003;	
        </button>
        
        <button id="divide">รท</button>
        <!-- <button id="parenthesis">()</button> -->
        <button id="reset">AC</button>
        <button id="equals">=</button>
       
    </div>
    <script>
        document.getElementById("subtract").onclick = function(){addToDisplay('-')};
        
         document.getElementById("backspace").onclick = function(){backSpace(); };
         document.getElementById("zero").onclick = function(){addToDisplay(0)};
         document.getElementById("one").onclick = function(){addToDisplay(1)};
         document.getElementById("two").onclick = function(){addToDisplay(2)};

         document.getElementById("three").onclick = function(){addToDisplay(3)};
         document.getElementById("four").onclick = function(){addToDisplay(4)};
         document.getElementById("five").onclick = function(){addToDisplay(5)};

         document.getElementById("six").onclick = function(){addToDisplay(6)};
         document.getElementById("seven").onclick = function(){addToDisplay(7)};
         document.getElementById("eight").onclick = function(){addToDisplay(8)};
         document.getElementById("nine").onclick = function(){addToDisplay(9)};

         document.getElementById("add").onclick = function(){addToDisplay("+")};
         document.getElementById("equals").onclick = function(){evulateExpression(totalValue)}
         document.getElementById("reset").onclick = function(){ resetButton();};

         document.getElementById("divide").onclick = function(){addToDisplay("/")};
         document.getElementById("dot").onclick = function(){addToDisplay(".")};

        
        
        function addToDisplay(number) {
            if (displayBox.innerText === "0") {
                displayBox.innerText = ""; // Clear initial "0"
            }
            else if (displayBox.innerText.length >=15){ // to stop the user from typing too much into the displaybox.
                alert("too much input")
                return;
            }
            document.getElementById("displayBox").innerText += number;

            console.log(document.getElementById("displayBox").innerHTML);
            totalValue = document.getElementById("displayBox").innerHTML;

            
        }

        function evulateExpression(totalValue){
            totalValue = eval(totalValue);
            document.getElementById("displayBox").innerHTML = totalValue; // Update displayBox with the result
            console.log(totalValue)
        }
        function resetButton(){
            totalValue = 0;
            document.getElementById("displayBox").innerHTML = totalValue; // Clear displayBox
            console.log(totalValue)
        }
        function backSpace(){
            var totalValue = displayBox.innerText
            if (totalValue.length == 1) { // this is to fix erasing everything.
                displayBox.innerText = 0;  
            }
            
            else if (totalValue != 0){
                totalValue = displayBox.innerText.slice(0, -1);
                displayBox.innerText = totalValue;     
            }

        }
        let parenthesisCounter = 0;
document.getElementById("parenthesis").addEventListener("click", parenthesisFix);

function parenthesisFix() {
    const displayBox = document.getElementById("displayBox");

    if (parenthesisCounter === 0) {
        parenthesisCounter += 1;
        displayBox.innerText += "(";
    } else if (parenthesisCounter === 1) {
        displayBox.innerText += ")";
        parenthesisCounter = 0;
    }

    totalValue = displayBox.innerText; // Update totalValue with the new content

    return totalValue;
}


        
    </script>
</body>